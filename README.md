# üõ§Ô∏è –ú–æ–¥–µ–ª—å –º–µ—Ç—Ä–æ–ø–æ–ª–∏—Ç–µ–Ω–∞ –Ω–∞ FastAPI

## üìå –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã

–°–∏—Å—Ç–µ–º–∞ –º–æ–¥–µ–ª–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –º–µ—Ç—Ä–æ–ø–æ–ª–∏—Ç–µ–Ω–∞:

- –°—Ç–∞–Ω—Ü–∏–∏ –∏ –ª–∏–Ω–∏–∏ –º–µ—Ç—Ä–æ —Å–≤—è–∑–∞–Ω—ã –º–µ–∂–¥—É —Å–æ–±–æ–π.
- –ü–æ–µ–∑–¥–∞ —Å–ª–µ–¥—É—é—Ç –ø–æ –ª–∏–Ω–∏—è–º –∏ –º–æ–≥—É—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –Ω–∞ —Å—Ç–∞–Ω—Ü–∏—è—Ö.
- –ü–∞—Å—Å–∞–∂–∏—Ä—ã –∏–º–µ—é—Ç –Ω–∞—á–∞–ª—å–Ω—É—é –∏ –∫–æ–Ω–µ—á–Ω—É—é —Å—Ç–∞–Ω—Ü–∏–∏, –º–æ–≥—É—Ç –ø–µ—Ä–µ–º–µ—â–∞—Ç—å—Å—è –∏ –º–µ–Ω—è—Ç—å —Å—Ç–∞—Ç—É—Å (`–æ–∂–∏–¥–∞–µ—Ç`, `–≤ –ø–æ–µ–∑–¥–µ`, `–ø—Ä–∏–±—ã–ª`).
- –ß–µ—Ä–µ–∑ WebSocket –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.
- REST API –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Ç–µ–∫—É—â–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –º–æ–¥–µ–ª–∏—Ä—É–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–∞—Ö.

---

## üß∞ –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –∏—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è                 | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                                 |
|---------------------------|---------------------------------------------------------------------------|
| **FastAPI**               | –û—Å–Ω–æ–≤–Ω–æ–π web-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç REST API –∏ WebSocket –º–∞—Ä—à—Ä—É—Ç—ã.       |
| **uvicorn**               | ASGI-—Å–µ—Ä–≤–µ—Ä –¥–ª—è –∑–∞–ø—É—Å–∫–∞ FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.                              |
| **SQLAlchemy (v2)**       | ORM –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –º–æ–¥–µ–ª–µ–π (`Passenger`, `Station`, `Train`, `Line`)        |
| **Pydantic Settings**     | –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î) –∏–∑ `config.py`.        |
| **PostgreSQL**            | –ò—Å–ø–æ–ª—å–∑—É–µ–º–∞—è —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `asyncpg`.        |
| **httpx**                 | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π HTTP-–∫–ª–∏–µ–Ω—Ç –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ WebSocket-—Å–µ—Å—Å–∏–∏). |
| **WebSocket (FastAPI)**   | –î–ª—è –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–µ–π —Å–≤—è–∑–∏ —Å –∫–ª–∏–µ–Ω—Ç–æ–º. |
| **Enum** (`Status`)       | –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π –ø–∞—Å—Å–∞–∂–∏—Ä–∞: `WAITING`, `IN_TRAIN`, `FINISHED`. |

---

## üß± –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥–µ–ª–µ–π

- **Line** ‚Äî –ª–∏–Ω–∏—è –º–µ—Ç—Ä–æ. –ò–º–µ–µ—Ç –∏–º—è, —Å—Ç–∞–Ω—Ü–∏–∏ –Ω–∞ –º–∞—Ä—à—Ä—É—Ç–µ (`route`) –∏ —Å–ø–∏—Å–æ–∫ –ø–æ–µ–∑–¥–æ–≤.
- **Station** ‚Äî —Å—Ç–∞–Ω—Ü–∏—è –º–µ—Ç—Ä–æ. –ü—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –ª–∏–Ω–∏–∏, –∏–º–µ–µ—Ç –≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∏ —Å–ø–∏—Å–æ–∫ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤.
- **Train** ‚Äî –ø–æ–µ–∑–¥. –ò–º–µ–µ—Ç –≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å, —Ç–µ–∫—É—â—É—é —Å—Ç–∞–Ω—Ü–∏—é –∏ –ª–∏–Ω–∏—é, –ø–æ –∫–æ—Ç–æ—Ä–æ–π —Å–ª–µ–¥—É–µ—Ç.
- **Passenger** ‚Äî –ø–∞—Å—Å–∞–∂–∏—Ä. –ò–º–µ–µ—Ç –Ω–∞—á–∞–ª—å–Ω—É—é –∏ –∫–æ–Ω–µ—á–Ω—É—é —Å—Ç–∞–Ω—Ü–∏–∏, –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞ —Å—Ç–∞–Ω—Ü–∏–∏ –∏–ª–∏ –≤ –ø–æ–µ–∑–¥–µ.
- **Status** ‚Äî —Å—Ç–∞—Ç—É—Å –ø–∞—Å—Å–∞–∂–∏—Ä–∞: –æ–∂–∏–¥–∞–Ω–∏–µ, –≤ –ø—É—Ç–∏, –ø—Ä–∏–±—ã–ª.

---

## üîå WebSocket

- `/ws` ‚Äî WebSocket-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ, –ø–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ç–∞—Ä—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.

---

## ‚öôÔ∏è –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

- –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ FastAPI –≤—ã–∑—ã–≤–∞–µ—Ç `setup_database()` ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î.
- –ö–ª–∏–µ–Ω—Ç –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ `/ws`, –ø–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ä—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∫–æ–º–∞–Ω–¥—ã.
- –í—Å—è –º–æ–¥–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ.
